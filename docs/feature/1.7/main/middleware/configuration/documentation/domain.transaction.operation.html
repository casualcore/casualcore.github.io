<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>configuration transaction &mdash; casual  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/casual-32x32.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="configuration system" href="system.operation.html" />
    <link rel="prev" title="configuration queue" href="domain.queue.operation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            casual
              <img src="../../../_static/casual.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/components.html">components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/user-particles.html">user particles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">sections</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../documentation/operation.html">operation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../administration/documentation/cli/overview.html">command line interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../administration/documentation/environment.operation.html">environment variables that affect operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="domain.gateway.operation.html">configuration gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="domain.general.operation.html">configuration domain (general)</a></li>
<li class="toctree-l2"><a class="reference internal" href="domain.queue.operation.html">configuration queue</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">configuration transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.operation.html">configuration system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../buffer/documentation/field.operation.html">field operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../common/documentation/log.operation.html">log operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../http/documentation/outbound/configuration.operation.html">http outbound configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../queue/documentation/queue.operation.html">casual-queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../queue/documentation/upgrade.operation.html">queue upgrade</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/development.html">development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/examples.html">examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation/tutorials/operations/README.html">tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">casual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../documentation/operation.html">operation</a></li>
      <li class="breadcrumb-item active">configuration transaction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/middleware/configuration/documentation/domain.transaction.operation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-transaction">
<h1>configuration transaction<a class="headerlink" href="#configuration-transaction" title="Permalink to this heading">¶</a></h1>
<p>This is the runtime configuration for a casual domain.</p>
<p>The sections can be splitted in arbitrary ways, and aggregated to one configuration model <code class="docutils literal notranslate"><span class="pre">casual</span></code> uses.
Same sections can be defined in different files, hence, give more or less unlimited configuration setup.</p>
<p>Most of the <em>sections</em> has a property <code class="docutils literal notranslate"><span class="pre">note</span></code> for the user to provide descriptions of the documentation.
The examples further down uses this to make it easier to understand the examples by them self. But can of
course be used as a mean to help document actual production configuration.</p>
<section id="domain-transaction">
<h2>domain.transaction<a class="headerlink" href="#domain-transaction" title="Permalink to this heading">¶</a></h2>
<p>Defines transaction related configuration.</p>
</section>
<section id="domain-transaction-default-resource">
<h2>domain.transaction.default.resource<a class="headerlink" href="#domain-transaction-default-resource" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>property</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[key : <code class="docutils literal notranslate"><span class="pre">string</span></code>]</p></td>
<td><p>default key to use</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>[instances : <code class="docutils literal notranslate"><span class="pre">integer</span></code>]</p></td>
<td><p>default number of instances</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
</tr>
</tbody>
</table>
<p>Note: <code class="docutils literal notranslate"><span class="pre">key</span></code> has to be present in <code class="docutils literal notranslate"><span class="pre">system.resources.key</span></code></p>
<section id="domain-transaction-log-string">
<h3>domain.transaction.log : <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#domain-transaction-log-string" title="Permalink to this heading">¶</a></h3>
<p>The path of the distributed transactions log file. When a distributed transaction reaches prepare,
this state is persistent stored, before the actual commit stage.</p>
<p>if <code class="docutils literal notranslate"><span class="pre">:memory:</span></code> is used, the log is non-persistent.</p>
</section>
<section id="domain-transaction-resources-list">
<h3>domain.transaction.resources <em>(list)</em><a class="headerlink" href="#domain-transaction-resources-list" title="Permalink to this heading">¶</a></h3>
<p>Defines all resources that <code class="docutils literal notranslate"><span class="pre">servers</span></code> and <code class="docutils literal notranslate"><span class="pre">executables</span></code> can be associated with, within this configuration.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>property</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name : <code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p>a (unique) name to reference this resource</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>[key : <code class="docutils literal notranslate"><span class="pre">string</span></code>]</p></td>
<td><p>the resource key</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">domain.transaction.default.resource.key</span></code></p></td>
</tr>
<tr class="row-even"><td><p>[instances : <code class="docutils literal notranslate"><span class="pre">integer</span></code>]</p></td>
<td><p>number of resource-proxy instances</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">domain.transaction.default.resource.instances</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>[openinfo : <code class="docutils literal notranslate"><span class="pre">string</span></code>]</p></td>
<td><p>resource specific <em>open</em> configurations</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>[closeinfo : <code class="docutils literal notranslate"><span class="pre">string</span></code>]</p></td>
<td><p>resource specific <em>close</em> configurations</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>Note: <code class="docutils literal notranslate"><span class="pre">key</span></code> has to be present in <code class="docutils literal notranslate"><span class="pre">system.resources.key</span></code></p>
</section>
</section>
<section id="examples">
<h2>examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<p>Below follows examples in <code class="docutils literal notranslate"><span class="pre">yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">json</span></code> <em>(casual can also handle <code class="docutils literal notranslate"><span class="pre">ini</span></code> and <code class="docutils literal notranslate"><span class="pre">xml</span></code>)</em></p>
<section id="yaml">
<h3>yaml<a class="headerlink" href="#yaml" title="Permalink to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">domain</span><span class="p">:</span>
<span class="w">  </span><span class="nt">transaction</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span>
<span class="w">      </span><span class="nt">resource</span><span class="p">:</span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db2_rm&quot;</span>
<span class="w">        </span><span class="nt">instances</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">    </span><span class="nt">log</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/some/fast/disk/domain.A42/transaction.log&quot;</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;customer-db&quot;</span>
<span class="w">        </span><span class="nt">instances</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">        </span><span class="nt">note</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;this</span><span class="nv"> </span><span class="s">resource</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">named</span><span class="nv"> </span><span class="s">&#39;customer-db&#39;</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">default</span><span class="nv"> </span><span class="s">rm-key</span><span class="nv"> </span><span class="s">(db_rm)</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">overrides</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">default</span><span class="nv"> </span><span class="s">rm-instances</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">5&quot;</span>
<span class="w">        </span><span class="nt">openinfo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db=customer,uid=db2,pwd=db2&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sales-db&quot;</span>
<span class="w">        </span><span class="nt">note</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;this</span><span class="nv"> </span><span class="s">resource</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">named</span><span class="nv"> </span><span class="s">&#39;sales-db&#39;</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">default</span><span class="nv"> </span><span class="s">rm-key</span><span class="nv"> </span><span class="s">(db_rm)</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">default</span><span class="nv"> </span><span class="s">rm-instances&quot;</span>
<span class="w">        </span><span class="nt">openinfo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db=sales,uid=db2,pwd=db2&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;event-queue&quot;</span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mq_rm&quot;</span>
<span class="w">        </span><span class="nt">note</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;this</span><span class="nv"> </span><span class="s">resource</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">named</span><span class="nv"> </span><span class="s">&#39;event-queue&#39;</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">overrides</span><span class="nv"> </span><span class="s">rm-key</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">default</span><span class="nv"> </span><span class="s">rm-instances&quot;</span>
<span class="w">        </span><span class="nt">openinfo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;some-mq-specific-stuff&quot;</span>
<span class="w">        </span><span class="nt">closeinfo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;some-mq-specific-stuff&quot;</span>
<span class="nn">...</span>
</pre></div>
</div>
</section>
<section id="json">
<h3>json<a class="headerlink" href="#json" title="Permalink to this heading">¶</a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;transaction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db2_rm&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;instances&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;log&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/some/fast/disk/domain.A42/transaction.log&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;resources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customer-db&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;instances&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;note&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;this resource is named &#39;customer-db&#39; - using the default rm-key (db_rm) - overrides the default rm-instances to 5&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;openinfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db=customer,uid=db2,pwd=db2&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sales-db&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;note&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;this resource is named &#39;sales-db&#39; - using the default rm-key (db_rm) - using default rm-instances&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;openinfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db=sales,uid=db2,pwd=db2&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;event-queue&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mq_rm&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;note&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;this resource is named &#39;event-queue&#39; - overrides rm-key - using default rm-instances&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;openinfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;some-mq-specific-stuff&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;closeinfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;some-mq-specific-stuff&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="domain.queue.operation.html" class="btn btn-neutral float-left" title="configuration queue" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="system.operation.html" class="btn btn-neutral float-right" title="configuration system" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, casual.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: feature/1.7/main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="domain.transaction.operation.html">feature/1.7/main</a></dd>
      <dd><a href="../../../../../../patch/1.6/main/middleware/configuration/documentation/domain.transaction.operation.html">patch/1.6/main</a></dd>
      <dd><a href="../../../../../../release/1.6/middleware/configuration/documentation/domain.transaction.operation.html">release/1.6</a></dd>
    </dl>
  </div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>